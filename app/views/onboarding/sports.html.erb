<div class="onboarding-container" style="padding: 132px 0px">
  <div class="progress-bar">
    <div class="progress-step"></div>
    <div class="progress-step active"></div>
    <div class="progress-step"></div>
  </div>

  <div class="age-content">
    <div class="cake-icon">‚öΩÔ∏è</div>

    <h1 class="age-title">Quels sont tes 3 sports pr√©f√©r√©s ?</h1>

    <p class="age-subtitle">
      Cela nous aidera √† te connecter avec des personnes qui partagent tes passions
    </p>

    <p class="age-description">
      <em>Et qui sait, peut-√™tre que tu trouveras ton partenaire d'entra√Ænement id√©al ! üí™</em>
    </p>

    <%= simple_form_for @user, url: wizard_path, method: :put, html: { data: { controller: "sport-selection" } } do |f| %>
      <!-- Compteur de s√©lection -->
      <div class="text-center mb-4">
        <div class="selection-counter">
          <span data-sport-selection-target="counterText">S√©lectionne tes 3 sports pr√©f√©r√©s</span>
          <br>
          <small><span data-sport-selection-target="selectedCount">0</span>/3 s√©lectionn√©s</small>
        </div>
      </div>

      <div class="mb-4">
        <small class="text-muted mb-3 d-block text-center">Maximum 3 sports s√©lectionnables</small>

        <div class="sports-grid">
          <% sports_list = [
            ['Football', 'football', '‚öΩ'],
            ['Basketball', 'basketball', 'üèÄ'],
            ['Tennis', 'tennis', 'üéæ'],
            ['Running', 'running', 'üèÉ‚Äç‚ôÇÔ∏è'],
            ['Cyclisme', 'cyclisme', 'üö¥‚Äç‚ôÇÔ∏è'],
            ['Natation', 'natation', 'üèä‚Äç‚ôÇÔ∏è'],
            ['Fitness', 'fitness', 'üí™'],
            ['Yoga', 'yoga', 'üßò‚Äç‚ôÄÔ∏è'],
            ['Musculation', 'musculation', 'üèãÔ∏è‚Äç‚ôÇÔ∏è'],
            ['Volleyball', 'volleyball', 'üèê'],
            ['Badminton', 'badminton', 'üè∏'],
            ['Escalade', 'escalade', 'üßó‚Äç‚ôÇÔ∏è'],
            ['Randonn√©e', 'randonnee', 'ü•æ'],
            ['Danse', 'danse', 'üíÉ'],
            ['Arts martiaux', 'arts_martiaux', 'ü•ã'],
            ['Ski', 'ski', '‚õ∑Ô∏è'],
            ['Surf', 'surf', 'üèÑ'],
            ['Golf', 'golf', '‚õ≥'],
            ['Boxe', 'boxe', 'ü•ä'],
            ['Triathlon', 'triathlon', 'üèä‚Äç‚ôÇÔ∏èüö¥‚Äç‚ôÇÔ∏èüèÉ‚Äç‚ôÇÔ∏è'],
            ['Autre', 'autre', 'ü§∏']
          ] %>

          <% sports_list.each do |sport_name, sport_value, sport_icon| %>
            <div class="sport-item"
                  data-sport="<%= sport_value %>"
                  data-action="click->sport-selection#selectSport">

              <input type="checkbox"
                      name="user[sports][]"
                      value="<%= sport_value %>"
                      id="sport_<%= sport_value %>"
                      class="sport-checkbox d-none"
                      <%= 'checked' if @user.sports&.include?(sport_value) %>>

              <label for="sport_<%= sport_value %>" class="sport-label">
                <span class="sport-icon"><%= sport_icon %></span>
                <span class="sport-name"><%= sport_name %></span>
              </label>
            </div>
          <% end %>
        </div>
      </div>

      <div class="buttons-container">
        <%= link_to "Pr√©c√©dent", previous_wizard_path, class: "btn-custom btn-back" %>
        <%= f.submit "Continuer", class: "continue-btn" %>
      </div>
    <% end %>
  </div>
</div>
