<!-- app/views/profiles/show.html.erb -->

<% content_for :page_title do %>
  <% if @user == current_user %>
    Mon profil
  <% else %>
    Profil de <%= @user.first_name %>
  <% end %>
<% end %>

<% content_for :header do %>
  <%= render 'layouts/topbar_header' %>
<% end %>

<div class="container py-5 profile-page">
  <%= render "layouts/profile_card", user: @user, conversation: @conversation, enableMessage: true, validPlace: false %>
</div>

  <h2>ðŸ“… Mes Ã©vÃ©nements</h2>
    <% if @events.any? %>
      <ul class="list-group" id="my_events_list">
        <% @events.each do |event| %>
          <li class="list-group-item d-flex justify-content-between align-items-center" id="<%= dom_id(event, :profile_item) %>">
            <div>
              <strong><%= event.title %></strong><br>
              <small class="text-muted"><%= event.location %> â€” <%= l(event.starts_at, format: :long) %></small>
            </div>
            <%= link_to "Voir", event_path(event), class: "btn btn-sm btn-outline-primary" %>
          </li>
        <% end %>
      </ul>
    <% else %>
      <p class="text-muted">Tu ne participes encore Ã  aucun Ã©vÃ©nement.</p>
      <ul class="list-group" id="my_events_list"></ul>
    <% end %>
</div>
