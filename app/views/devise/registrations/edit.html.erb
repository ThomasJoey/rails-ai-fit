<div class="login-container">
  <!-- Barre de retour -->
  <div class="back-bar">
    <%= link_to :back, class: "back-link" do %>
      <i class="fas fa-arrow-left"></i>
      <span>Retour</span>
    <% end %>
    <h2 class="page-title">Modifier le profil</h2>
  </div>

  <%= simple_form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
    <%= f.error_notification %>
    <div class="form-inputs">
      <%= f.input :email,
          required: false,
          autofocus: true,
          input_html: {
            autocomplete: "email",
            placeholder: "your@email.com"
          },
          label: "Email" %>
      <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
        <p>Currently waiting confirmation for: <%= resource.unconfirmed_email %></p>
      <% end %>
      <%= f.input :current_password,
          required: true,
          hint: "Nous avons besoin de votre mot de passe actuel pour confirmer vos modifications",
          input_html: {
            autocomplete: "current-password",
            placeholder: "••••••••"
          },
          label: "Mot de passe actuel" %>
      <%= f.input :password,
          required: false,
          hint: "Laissez vide si vous ne souhaitez pas changer",
          input_html: {
            autocomplete: "new-password",
            placeholder: "••••••••"
          },
          label: "Nouveau mot de passe" %>
      <%= f.input :password_confirmation,
          required: false,
          input_html: {
            autocomplete: "new-password",
            placeholder: "••••••••"
          },
          label: "Confirmation du nouveau mot de passe" %>
    </div>
    <div class="form-actions">
      <%= f.button :submit, "Mettre à jour" %>
    </div>
  <% end %>

  <div class="shared-links">
    <%= button_to "Supprimer mon compte", registration_path(resource_name),
        data: { confirm: "Êtes-vous sûr?", turbo_confirm: "Êtes-vous sûr?" },
        method: :delete,
        class: "delete-account-btn" %>
  </div>
</div>




