<div class="user-profile-card">
  <!-- Bouton fermeture -->
  <button class="close-button" data-action="click->popup#close">‚úï</button>

  <!-- Avatar + Nom + Infos -->
  <div class="profile-header">
    <%= render "layouts/avatar",
      image_url: (user.avatar.attached? ? url_for(user.avatar) : nil),
      initials: user_initials(user),
      size: "xl",
      extra_classes: "profile-avatar" %>

    <div>
      <div class="profile-name">
        <%= user.first_name %> <%= user.last_name %>
        <% if user.first_name.blank? && user.last_name.blank? %>
          <%= user.email.split('@').first.capitalize %>
        <% end %>
      </div>
      <div class="profile-subtext">
        <%= "#{user.age_range} ans" %> ¬∑ üìç <%= user.location %>
      </div>
    </div>
  </div>

  <!-- Tags (sports, personnalit√©s, etc.) -->
  <% if user.sports.present? %>
    <div class="profile-tags">
      <% user.sports.each do |sport| %>
        <span class="tag"><%= sport.humanize %></span>
      <% end %>
    </div>
  <% end %>

  <!-- √Ä propos -->
  <% if user.bio.present? %>
    <div class="profile-bio">
      <h3>√Ä propos</h3>
      <p><%= simple_format(user.bio) %></p>
    </div>
  <% end %>

  <!-- Sports -->
  <% if user.sports.present? %>
    <div class="profile-sports">
      <% user.sports.each do |sport| %>
        <span class="sport-tag">
          <i class="fas fa-star"></i> <%= sport.humanize %>
        </span>
      <% end %>
    </div>
  <% end %>

  <!-- Bouton √©dition -->
  <% if user == current_user %>
    <%= link_to "Modifier mon profil", edit_profile_path(user), class: "btn-edit" %>
  <% end %>
</div>
